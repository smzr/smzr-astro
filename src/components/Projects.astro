---
import SectionHeading from "./SectionHeading.astro";
import ProjectsContentSlider from "./ProjectsContentSlider.astro";
import ProjectsImageSlider from "./ProjectsImageSlider.astro";
---
<section class="projects">
    <SectionHeading>
        <h2>Some of my work</h2>
        <p>I'm a problem solver at heart and love taking on complex and challenging projects. I'm great at taking sophisticated ideas and figuring out how to get them built.</p>
    </SectionHeading>
    <div class="container">
        <ProjectsImageSlider />
        <ProjectsContentSlider />
    </div>
</section>
<script>
    import Swiper from 'swiper';
    import { Pagination, Navigation, EffectFade, Controller } from 'swiper/modules';

    const contentSwiper = new Swiper(".projects-content > .swiper", {
        modules: [Pagination, Controller],
        pagination: {
            el: ".swiper-pagination",
            dynamicBullets: true,
        },
    });
    
    const imageSwiper = new Swiper(".projects-image > .swiper", {
        modules: [Navigation, EffectFade, Controller],
        effect: 'fade',
        navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
        }
    });

    contentSwiper.controller.control = imageSwiper;
    imageSwiper.controller.control = contentSwiper;
</script>
<style lang="scss">
    .projects {
        padding: 0 2rem;
    }

    .container {
        display: grid;
        grid-template-columns: minmax(0, 1fr);
        max-width: 1280px;
        margin: 0 auto;
        gap: 2rem 1rem;
    }

    @media (min-width: 1024px) {
        .container {
            grid-template-columns: minmax(0, 2fr) minmax(0, 3fr);
            align-items: center;

            :global(.projects-image) {
                order: 2;
            }
        }
    }
</style>